{% extends "base.html" %}
{% block content %}

<form action="" method="post">
    <h1>Register</h1>
    {{ form.hidden_tag() }}
    
    <div>
        <label>{{ form.username.label }}</label>
        {{ form.username(size=20) }}
        {% if form.username.errors %}
            {% for error in form.username.errors %}
                <span class="error-message">{{ error }}</span>
            {% endfor %}
        {% endif %}
    </div>
    
    <div>
        <label>{{ form.email.label }}</label>
        {{ form.email(size=30) }}
        {% if form.email.errors %}
            {% for error in form.email.errors %}
                <span class="error-message">{{ error }}</span>
            {% endfor %}
        {% endif %}
    </div>
    
    <div>
        <label>{{ form.password.label }}</label>
        {{ form.password(size=20) }}
    </div>
    
    <div>
        <label>{{ form.confirm_password.label }}</label>
        {{ form.confirm_password(size=20) }}
        {% if form.confirm_password.errors %}
            {% for error in form.confirm_password.errors %}
                <span class="error-message">{{ error }}</span>
            {% endfor %}
        {% endif %}
    </div>
    
    <div>
        {{ form.submit() }}
    </div>
    
    <p style="text-align: center; margin-top: 1.5rem;">
        Already have an account? <a href="{{ url_for('users.login') }}">Login here</a>
    </p>
</form>

{% if error %}
    <div class="card" style="background: #fee; border-left: 4px solid var(--error-red); margin-top: 1rem;">
        <p class="error-message">{{ error }}</p>
    </div>
{% endif %}

{% endblock %}
